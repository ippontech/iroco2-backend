ALTER TABLE services
    add COLUMN SHORT_NAME TEXT UNIQUE;
UPDATE services
set SHORT_NAME='EC2'
WHERE name = 'Amazon Elastic Compute Cloud (EC2)';

CREATE TABLE IF NOT EXISTS COMPATIBLE_INSTANCES_FOR_SERVICE
(
    SERVICE_SHORT_NAME TEXT,
    INSTANCE_TYPE_ID   INT,
    PRIMARY KEY (SERVICE_SHORT_NAME, INSTANCE_TYPE_ID),
    FOREIGN KEY (SERVICE_SHORT_NAME) REFERENCES services (SHORT_NAME),
    FOREIGN KEY (INSTANCE_TYPE_ID) REFERENCES EC2INSTANCE (ID)
);



INSERT INTO COMPATIBLE_INSTANCES_FOR_SERVICE(SERVICE_SHORT_NAME, INSTANCE_TYPE_ID)
VALUES ('EC2', 14),
       ('EC2', 15),
       ('EC2', 16),
       ('EC2', 17),
       ('EC2', 18),
       ('EC2', 19),
       ('EC2', 20),
       ('EC2', 21),
       ('EC2', 22),
       ('EC2', 23),
       ('EC2', 24),
       ('EC2', 25),
       ('EC2', 26),
       ('EC2', 27),
       ('EC2', 28),
       ('EC2', 29),
       ('EC2', 30),
       ('EC2', 31),
       ('EC2', 32),
       ('EC2', 33),
       ('EC2', 34),
       ('EC2', 35),
       ('EC2', 36),
       ('EC2', 37),
       ('EC2', 38),
       ('EC2', 39),
       ('EC2', 40),
       ('EC2', 41),
       ('EC2', 42),
       ('EC2', 43),
       ('EC2', 44),
       ('EC2', 45),
       ('EC2', 46),
       ('EC2', 47),
       ('EC2', 48),
       ('EC2', 49),
       ('EC2', 50),
       ('EC2', 51),
       ('EC2', 52),
       ('EC2', 53),
       ('EC2', 54),
       ('EC2', 55),
       ('EC2', 56),
       ('EC2', 57),
       ('EC2', 58),
       ('EC2', 59),
       ('EC2', 60),
       ('EC2', 61),
       ('EC2', 62),
       ('EC2', 63),
       ('EC2', 64),
       ('EC2', 65),
       ('EC2', 66),
       ('EC2', 67),
       ('EC2', 68),
       ('EC2', 69),
       ('EC2', 70),
       ('EC2', 71),
       ('EC2', 72),
       ('EC2', 73),
       ('EC2', 74),
       ('EC2', 75),
       ('EC2', 76),
       ('EC2', 77),
       ('EC2', 78),
       ('EC2', 79),
       ('EC2', 80),
       ('EC2', 81),
       ('EC2', 82),
       ('EC2', 83),
       ('EC2', 84),
       ('EC2', 85),
       ('EC2', 86),
       ('EC2', 87),
       ('EC2', 88),
       ('EC2', 89),
       ('EC2', 90),
       ('EC2', 91),
       ('EC2', 92),
       ('EC2', 93),
       ('EC2', 94),
       ('EC2', 95),
       ('EC2', 96),
       ('EC2', 97),
       ('EC2', 98),
       ('EC2', 99),
       ('EC2', 100),
       ('EC2', 101),
       ('EC2', 102),
       ('EC2', 103),
       ('EC2', 104),
       ('EC2', 105),
       ('EC2', 106),
       ('EC2', 107),
       ('EC2', 108),
       ('EC2', 109),
       ('EC2', 110),
       ('EC2', 111),
       ('EC2', 112),
       ('EC2', 113),
       ('EC2', 114),
       ('EC2', 115),
       ('EC2', 116),
       ('EC2', 117),
       ('EC2', 118),
       ('EC2', 119),
       ('EC2', 120),
       ('EC2', 121),
       ('EC2', 122),
       ('EC2', 123),
       ('EC2', 124),
       ('EC2', 125),
       ('EC2', 126),
       ('EC2', 127),
       ('EC2', 128),
       ('EC2', 129),
       ('EC2', 130),
       ('EC2', 131),
       ('EC2', 132),
       ('EC2', 133),
       ('EC2', 134),
       ('EC2', 135),
       ('EC2', 136),
       ('EC2', 137),
       ('EC2', 138),
       ('EC2', 139),
       ('EC2', 140),
       ('EC2', 141),
       ('EC2', 142),
       ('EC2', 143),
       ('EC2', 144),
       ('EC2', 145),
       ('EC2', 146),
       ('EC2', 147),
       ('EC2', 148),
       ('EC2', 149),
       ('EC2', 150),
       ('EC2', 151),
       ('EC2', 152),
       ('EC2', 153),
       ('EC2', 154),
       ('EC2', 155),
       ('EC2', 156),
       ('EC2', 157),
       ('EC2', 158),
       ('EC2', 159),
       ('EC2', 160),
       ('EC2', 161),
       ('EC2', 162),
       ('EC2', 163),
       ('EC2', 164),
       ('EC2', 165),
       ('EC2', 166),
       ('EC2', 167),
       ('EC2', 168),
       ('EC2', 169),
       ('EC2', 170),
       ('EC2', 171),
       ('EC2', 172),
       ('EC2', 173),
       ('EC2', 174),
       ('EC2', 181),
       ('EC2', 182),
       ('EC2', 183),
       ('EC2', 184),
       ('EC2', 197),
       ('EC2', 198),
       ('EC2', 199),
       ('EC2', 200),
       ('EC2', 201),
       ('EC2', 202),
       ('EC2', 203),
       ('EC2', 204),
       ('EC2', 205),
       ('EC2', 211),
       ('EC2', 213),
       ('EC2', 214),
       ('EC2', 215),
       ('EC2', 216),
       ('EC2', 217),
       ('EC2', 218),
       ('EC2', 219),
       ('EC2', 220),
       ('EC2', 227),
       ('EC2', 228),
       ('EC2', 229),
       ('EC2', 230),
       ('EC2', 240),
       ('EC2', 241),
       ('EC2', 242),
       ('EC2', 243),
       ('EC2', 244),
       ('EC2', 245),
       ('EC2', 246),
       ('EC2', 247),
       ('EC2', 248),
       ('EC2', 249),
       ('EC2', 250),
       ('EC2', 251),
       ('EC2', 252),
       ('EC2', 253),
       ('EC2', 254),
       ('EC2', 255),
       ('EC2', 256),
       ('EC2', 257),
       ('EC2', 258),
       ('EC2', 259),
       ('EC2', 260),
       ('EC2', 261),
       ('EC2', 262),
       ('EC2', 263),
       ('EC2', 264),
       ('EC2', 265),
       ('EC2', 266),
       ('EC2', 267),
       ('EC2', 268),
       ('EC2', 269),
       ('EC2', 270),
       ('EC2', 271),
       ('EC2', 272),
       ('EC2', 273),
       ('EC2', 274),
       ('EC2', 275),
       ('EC2', 276),
       ('EC2', 277),
       ('EC2', 278),
       ('EC2', 279),
       ('EC2', 280),
       ('EC2', 281),
       ('EC2', 282),
       ('EC2', 283),
       ('EC2', 284),
       ('EC2', 285),
       ('EC2', 286),
       ('EC2', 287),
       ('EC2', 288),
       ('EC2', 289),
       ('EC2', 290),
       ('EC2', 302),
       ('EC2', 303),
       ('EC2', 304),
       ('EC2', 305),
       ('EC2', 306),
       ('EC2', 307),
       ('EC2', 308),
       ('EC2', 309),
       ('EC2', 310),
       ('EC2', 311),
       ('EC2', 312),
       ('EC2', 313),
       ('EC2', 314),
       ('EC2', 315),
       ('EC2', 316),
       ('EC2', 317),
       ('EC2', 318),
       ('EC2', 319),
       ('EC2', 320),
       ('EC2', 321),
       ('EC2', 322),
       ('EC2', 323),
       ('EC2', 324),
       ('EC2', 325),
       ('EC2', 326),
       ('EC2', 327),
       ('EC2', 328),
       ('EC2', 329),
       ('EC2', 330),
       ('EC2', 331),
       ('EC2', 332),
       ('EC2', 333),
       ('EC2', 334),
       ('EC2', 335),
       ('EC2', 336),
       ('EC2', 337),
       ('EC2', 338),
       ('EC2', 339),
       ('EC2', 340),
       ('EC2', 341),
       ('EC2', 342),
       ('EC2', 343),
       ('EC2', 344),
       ('EC2', 345),
       ('EC2', 346),
       ('EC2', 347),
       ('EC2', 348),
       ('EC2', 349),
       ('EC2', 350),
       ('EC2', 351),
       ('EC2', 352),
       ('EC2', 353),
       ('EC2', 354),
       ('EC2', 355),
       ('EC2', 356),
       ('EC2', 357),
       ('EC2', 358),
       ('EC2', 359),
       ('EC2', 360),
       ('EC2', 361),
       ('EC2', 362),
       ('EC2', 363),
       ('EC2', 364),
       ('EC2', 365),
       ('EC2', 366),
       ('EC2', 367),
       ('EC2', 368),
       ('EC2', 369),
       ('EC2', 370),
       ('EC2', 371),
       ('EC2', 372),
       ('EC2', 373),
       ('EC2', 374),
       ('EC2', 375),
       ('EC2', 376),
       ('EC2', 377),
       ('EC2', 378),
       ('EC2', 379),
       ('EC2', 380),
       ('EC2', 381),
       ('EC2', 382),
       ('EC2', 383),
       ('EC2', 384),
       ('EC2', 385),
       ('EC2', 386),
       ('EC2', 387),
       ('EC2', 388),
       ('EC2', 389),
       ('EC2', 390),
       ('EC2', 391),
       ('EC2', 392),
       ('EC2', 393),
       ('EC2', 394),
       ('EC2', 395),
       ('EC2', 396),
       ('EC2', 397),
       ('EC2', 398),
       ('EC2', 399),
       ('EC2', 400),
       ('EC2', 401),
       ('EC2', 402),
       ('EC2', 403),
       ('EC2', 404),
       ('EC2', 405),
       ('EC2', 406),
       ('EC2', 407),
       ('EC2', 408),
       ('EC2', 409),
       ('EC2', 410),
       ('EC2', 411),
       ('EC2', 412),
       ('EC2', 413),
       ('EC2', 414),
       ('EC2', 415),
       ('EC2', 416),
       ('EC2', 417),
       ('EC2', 418),
       ('EC2', 419),
       ('EC2', 420),
       ('EC2', 421),
       ('EC2', 422),
       ('EC2', 423),
       ('EC2', 424),
       ('EC2', 425),
       ('EC2', 426),
       ('EC2', 427),
       ('EC2', 428),
       ('EC2', 429),
       ('EC2', 430),
       ('EC2', 431),
       ('EC2', 432),
       ('EC2', 433),
       ('EC2', 434),
       ('EC2', 435),
       ('EC2', 436),
       ('EC2', 437),
       ('EC2', 438),
       ('EC2', 439),
       ('EC2', 440),
       ('EC2', 441),
       ('EC2', 442),
       ('EC2', 443),
       ('EC2', 444),
       ('EC2', 445),
       ('EC2', 446),
       ('EC2', 447),
       ('EC2', 448),
       ('EC2', 449),
       ('EC2', 450),
       ('EC2', 451),
       ('EC2', 452),
       ('EC2', 453),
       ('EC2', 454),
       ('EC2', 455),
       ('EC2', 456),
       ('EC2', 457),
       ('EC2', 458),
       ('EC2', 459),
       ('EC2', 460),
       ('EC2', 461),
       ('EC2', 462),
       ('EC2', 463),
       ('EC2', 464),
       ('EC2', 465),
       ('EC2', 466),
       ('EC2', 467),
       ('EC2', 468),
       ('EC2', 469),
       ('EC2', 470),
       ('EC2', 471),
       ('EC2', 472),
       ('EC2', 473),
       ('EC2', 474),
       ('EC2', 475),
       ('EC2', 476),
       ('EC2', 477),
       ('EC2', 478),
       ('EC2', 479),
       ('EC2', 480),
       ('EC2', 485),
       ('EC2', 486),
       ('EC2', 487),
       ('EC2', 494),
       ('EC2', 500),
       ('EC2', 501),
       ('EC2', 502),
       ('EC2', 503),
       ('EC2', 504),
       ('EC2', 505),
       ('EC2', 506),
       ('EC2', 507),
       ('EC2', 508),
       ('EC2', 509),
       ('EC2', 510);
